import{r as a,p as k,j as b,q as F,c as n,o as u,b as t,a as c,F as V,d as H,s as m,v as L,t as O,x,y as R}from"./index-C2oWWeN6.js";const D=[{title:"全部",value:0},{title:"消除貧窮",value:1},{title:"終結飢餓",value:2},{title:"健康與福祉",value:3},{title:"優質教育",value:4},{title:"性別平等",value:5},{title:"淨水與衛生",value:6},{title:"可負擔的<br/>永續能源",value:7},{title:"就業與<br/>經濟成長",value:8},{title:"永續工業<br/>與基礎建設",value:9},{title:"消弭<br/>不平等",value:10},{title:"永續城鄉",value:11},{title:"責任消費<br/>與生產",value:12},{title:"氣候行動",value:13},{title:"永續海洋<br/>與保育",value:14},{title:"陸域生態",value:15},{title:"制度的正義<br/>與和平",value:16},{title:"永續發展<br/>夥伴關係",value:17}],U={class:"text-lg flex items-center w-full"},j={class:"flex items-center gap-4"},B=["innerHTML"],G={key:0,class:"absolute z-10 mt-2 w-56 bg-white rounded-md shadow-lg max-h-60 overflow-y-auto text-black"},z={key:0,class:"p-2 border-t border-gray-200"},E={class:"inline-flex items-center w-full cursor-pointer"},N=["value"],q=["innerHTML"],_={key:0,class:"absolute z-10 mt-2 w-48 bg-white rounded-md shadow-lg text-black"},A={key:0,class:"flex gap-2 items-center text-black bg-white/50 p-2 rounded-lg"},I={class:"relative ml-auto"},P={__name:"HeaderFilter",emits:["update:filters"],setup(J,{emit:C}){const s=a([]),g=a(!1),i=a("all"),d=a(!1),v=a(""),p=a(""),o=a(""),y=a(null),w=a(null);k(y,()=>{g.value=!1}),k(w,()=>{d.value=!1});const h=C,T=b(()=>D.filter(r=>r.value!==0)),$=b(()=>{if(s.value.length===0)return"SDGs";if(s.value.length>1)return`SDGs (${s.value.length})`;const r=D.find(e=>e.value===s.value[0]);return r?r.title.replace(/<br\s*\/?>/g," "):"SDGs"}),S=b(()=>{switch(i.value){case"day":return"最近一天";case"week":return"最近一周";case"custom":return"自訂範圍";default:return"發布時間"}});function f(r){i.value=r,d.value=!1,r!=="custom"&&(v.value="",p.value="")}return F([s,i,v,p,o],()=>{h("update:filters",{sdgs:s.value,time:i.value,startDate:v.value,endDate:p.value,keyword:o.value})},{deep:!0,immediate:!0}),(r,e)=>(u(),n("div",U,[t("div",j,[t("div",{class:"relative",ref_key:"sdgDropdownRef",ref:y},[t("button",{onClick:e[0]||(e[0]=l=>g.value=!g.value),class:"p-1 px-4 rounded-full bg-gray-500 text-white min-w-[150px] text-left flex justify-between items-center gap-2"},[t("span",{innerHTML:$.value,class:"truncate"},null,8,B),e[12]||(e[12]=t("span",null,"▾",-1))]),g.value?(u(),n("div",G,[s.value.length>0?(u(),n("div",z,[t("button",{onClick:e[1]||(e[1]=l=>s.value=[]),class:"text-sm text-blue-600 hover:underline w-full text-center"}," 清除選擇 ")])):c("",!0),(u(!0),n(V,null,H(T.value,l=>(u(),n("div",{key:l.value,class:"p-2 hover:bg-gray-100"},[t("label",E,[m(t("input",{type:"checkbox",value:l.value,"onUpdate:modelValue":e[2]||(e[2]=M=>s.value=M),class:"h-5 w-5 text-green-600 rounded focus:ring-green-500 border-gray-300"},null,8,N),[[L,s.value]]),t("span",{class:"ml-3 text-gray-700",innerHTML:l.title},null,8,q)])]))),128))])):c("",!0)],512),t("div",{class:"relative",ref_key:"timeDropdownRef",ref:w},[t("button",{onClick:e[3]||(e[3]=l=>d.value=!d.value),class:"p-1 px-4 rounded-full bg-gray-500 text-white min-w-[150px] text-left flex justify-between items-center gap-2"},[t("span",null,O(S.value),1),e[13]||(e[13]=t("span",null,"▾",-1))]),d.value?(u(),n("div",_,[t("div",{onClick:e[4]||(e[4]=l=>f("all")),class:"cursor-pointer p-2 hover:bg-gray-100"}," 全部時間 "),t("div",{onClick:e[5]||(e[5]=l=>f("day")),class:"cursor-pointer p-2 hover:bg-gray-100"}," 最近一天 "),t("div",{onClick:e[6]||(e[6]=l=>f("week")),class:"cursor-pointer p-2 hover:bg-gray-100"}," 最近一周 "),t("div",{onClick:e[7]||(e[7]=l=>f("custom")),class:"cursor-pointer p-2 hover:bg-gray-100"}," 自訂範圍 ")])):c("",!0)],512),i.value==="custom"?(u(),n("div",A,[m(t("input",{type:"date","onUpdate:modelValue":e[8]||(e[8]=l=>v.value=l),class:"p-1 border rounded-md"},null,512),[[x,v.value]]),e[14]||(e[14]=t("span",{class:"text-gray-600"},"至",-1)),m(t("input",{type:"date","onUpdate:modelValue":e[9]||(e[9]=l=>p.value=l),class:"p-1 border rounded-md"},null,512),[[x,p.value]])])):c("",!0)]),t("div",I,[m(t("input",{type:"text","onUpdate:modelValue":e[10]||(e[10]=l=>o.value=l),placeholder:"搜尋標題...",class:"p-1 px-4 rounded-full border border-black/50 placeholder-gray-300 focus:outline-none focus:ring-2 focus:ring-orange-400 focus:border-orange-400"},null,512),[[x,o.value]]),o.value.length?(u(),n("a",{key:0,href:"#",class:"absolute right-2 top-1.5",onClick:e[11]||(e[11]=R(l=>o.value="",["prevent"]))},[...e[15]||(e[15]=[t("i",{class:"fa-solid fa-xmark text-black/50"},null,-1)])])):c("",!0)])]))}};export{P as _,D as t};
